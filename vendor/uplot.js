/*! https://github.com/leeoniya/uPlot (v1.6.24) */
var uPlot=function(){"use strict";const e="u-off",t="u-label",l="width",n="height",i="top",o="bottom",s="left",r="right",u="#000",a=u+"0",c="mousemove",f="mousedown",h="mouseup",d="mouseenter",p="mouseleave",m="dblclick",g="change",x="dppxchange",w="--",b="undefined"!=typeof window,_=b?document:null,v=b?window:null,k=b?navigator:null;let y,M;function S(e,t){if(null!=t){let l=e.classList;!l.contains(t)&&l.add(t)}}function E(e,t){let l=e.classList;l.contains(t)&&l.remove(t)}function z(e,t,l){e.style[t]=l+"px"}function D(e,t,l,n){let i=_.createElement(e);return null!=t&&S(i,t),null!=l&&l.insertBefore(i,n),i}function T(e,t){return D("div",e,t)}const P=new WeakMap;function A(t,l,n,i,o){let s="translate("+l+"px,"+n+"px)";s!=P.get(t)&&(t.style.transform=s,P.set(t,s),0>l||0>n||l>i||n>o?S(t,e):E(t,e))}const W=new WeakMap;function Y(e,t,l){let n=t+l;n!=W.get(e)&&(W.set(e,n),e.style.background=t,e.style.borderColor=l)}const C=new WeakMap;function F(e,t,l,n){let i=t+""+l;i!=C.get(e)&&(C.set(e,i),e.style.height=l+"px",e.style.width=t+"px",e.style.marginLeft=n?-t/2+"px":0,e.style.marginTop=n?-l/2+"px":0)}const H={passive:!0},R={...H,capture:!0};function G(e,t,l,n){t.addEventListener(e,l,n?R:H)}function I(e,t,l,n){t.removeEventListener(e,l,n?R:H)}function L(e,t,l,n){let i;l=l||0;let o=2147483647>=(n=n||t.length-1);for(;n-l>1;)i=o?l+n>>1:te((l+n)/2),e>t[i]?l=i:n=i;return e-t[l]>t[n]-e?n:l}function O(e,t,l,n){for(let i=1==n?t:l;i>=t&&l>=i;i+=n)if(null!=e[i])return i;return-1}function N(e,t,l,n){let i=re(e),o=re(t),s=10==l?ue:ae;e==t&&(-1==i?(e*=l,t/=l):(e/=l,t*=l));let r=1==o?ne:te,u=(1==i?te:ne)(s(ee(e))),a=r(s(ee(t))),c=se(l,u),f=se(l,a);return 10==l&&(0>u&&(c=Me(c,-u)),0>a&&(f=Me(f,-a))),n||2==l?(e=c*i,t=f*o):(e=ye(e,c),t=ke(t,f)),[e,t]}function j(e,t,l,n){let i=N(e,t,l,n);return 0==e&&(i[0]=0),0==t&&(i[1]=0),i}b&&function e(){let t=devicePixelRatio;y!=t&&(y=t,M&&I(g,M,e),M=matchMedia(`(min-resolution: ${y-.001}dppx) and (max-resolution: ${y+.001}dppx)`),G(g,M,e),v.dispatchEvent(new CustomEvent(x)))}();const U={mode:3,pad:.1},B={pad:0,soft:null,mode:0},V={min:B,max:B};function J(e,t,l,n){return Ce(l)?K(e,t,l):(B.pad=l,B.soft=n?0:null,B.mode=n?3:0,K(e,t,V))}function q(e,t){return null==e?t:e}function K(e,t,l){let n=l.min,i=l.max,o=q(n.pad,0),s=q(i.pad,0),r=q(n.hard,-fe),u=q(i.hard,fe),a=q(n.soft,fe),c=q(i.soft,-fe),f=q(n.mode,0),h=q(i.mode,0),d=t-e,p=ue(d),m=oe(ee(e),ee(t)),g=ue(m),x=ee(g-p);(1e-9>d||x>10)&&(d=0,0!=e&&0!=t||(d=1e-9,2==f&&a!=fe&&(o=0),2==h&&c!=-fe&&(s=0)));let w=d||m||1e3,b=ue(w),_=se(10,te(b)),v=Me(ye(e-w*(0==d?0==e?.1:1:o),_/10),9),k=a>e||1!=f&&(3!=f||v>a)&&(2!=f||a>v)?fe:a,y=oe(r,k>v&&e>=k?k:ie(k,v)),M=Me(ke(t+w*(0==d?0==t?.1:1:s),_/10),9),S=t>c||1!=h&&(3!=h||c>M)&&(2!=h||M>c)?-fe:c,E=ie(u,M>S&&S>=t?S:oe(S,M));return y==E&&0==y&&(E=100),[y,E]}const X=new Intl.NumberFormat(b?k.language:"en-US"),Z=e=>X.format(e),$=Math,Q=$.PI,ee=$.abs,te=$.floor,le=$.round,ne=$.ceil,ie=$.min,oe=$.max,se=$.pow,re=$.sign,ue=$.log10,ae=$.log2,ce=(e,t=1)=>$.asinh(e/t),fe=1/0;function he(e){return 1+(0|ue((e^e>>31)-(e>>31)))}function de(e,t,l){return ie(oe(e,t),l)}function pe(e){return"function"==typeof e?e:()=>e}const me=e=>e,ge=(e,t)=>t,xe=()=>null,we=()=>!0,be=(e,t)=>e==t,_e=e=>Me(e,14);function ve(e,t){return _e(Me(_e(e/t))*t)}function ke(e,t){return _e(ne(_e(e/t))*t)}function ye(e,t){return _e(te(_e(e/t))*t)}function Me(e,t=0){if(We(e))return e;let l=10**t;return le(e*l*(1+Number.EPSILON))/l}const Se=new Map;function Ee(e){return((""+e).split(".")[1]||"").length}function ze(e,t,l,n){let i=[],o=n.map(Ee);for(let s=t;l>s;s++){let t=ee(s),l=Me(se(e,s),t);for(let e=0;n.length>e;e++){let r=n[e]*l,u=(0>r||0>s?t:0)+(o[e]>s?o[e]:0),a=Me(r,u);i.push(a),Se.set(a,u)}}return i}const De={},Te=[],Pe=[null,null],Ae=Array.isArray,We=Number.isInteger;function Ye(e){return"string"==typeof e}function Ce(e){let t=!1;if(null!=e){let l=e.constructor;t=null==l||l==Object}return t}function Fe(e){return null!=e&&"object"==typeof e}const He=Object.getPrototypeOf(Uint8Array);function Re(e,t=Ce){let l;if(Ae(e)){let n=e.find((e=>null!=e));if(Ae(n)||t(n)){l=Array(e.length);for(let n=0;e.length>n;n++)l[n]=Re(e[n],t)}else l=e.slice()}else if(e instanceof He)l=e.slice();else if(t(e)){l={};for(let n in e)l[n]=Re(e[n],t)}else l=e;return l}function Ge(e){let t=arguments;for(let l=1;t.length>l;l++){let n=t[l];for(let t in n)Ce(e[t])?Ge(e[t],Re(n[t])):e[t]=Re(n[t])}return e}function Ie(e,t,l){for(let n,i=0,o=-1;t.length>i;i++){let s=t[i];if(s>o){for(n=s-1;n>=0&&null==e[n];)e[n--]=null;for(n=s+1;l>n&&null==e[n];)e[o=n++]=null}}}const Le="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,Oe=["January","February","March","April","May","June","July","August","September","October","November","December"],Ne=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function je(e){return e.slice(0,3)}const Ue=Ne.map(je),Be=Oe.map(je),Ve={MMMM:Oe,MMM:Be,WWWW:Ne,WWW:Ue};function Je(e){return(10>e?"0":"")+e}const qe={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>Je(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Je(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>Je(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return 0==t?12:t>12?t-12:t},AA:e=>12>e.getHours()?"AM":"PM",aa:e=>12>e.getHours()?"am":"pm",a:e=>12>e.getHours()?"a":"p",mm:e=>Je(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Je(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>function(e){return(10>e?"00":100>e?"0":"")+e}(e.getMilliseconds())};function Ke(e,t){t=t||Ve;let l,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;l=i.exec(e);)n.push("{"==l[0][0]?qe[l[1]]:l[0]);return e=>{let l="";for(let i=0;n.length>i;i++)l+="string"==typeof n[i]?n[i]:n[i](e,t);return l}}const Xe=(new Intl.DateTimeFormat).resolvedOptions().timeZone,Ze=e=>e%1==0,$e=[1,2,2.5,5],Qe=ze(10,-16,0,$e),et=ze(10,0,16,$e),tt=et.filter(Ze),lt=Qe.concat(et),nt="{YYYY}",it="\n"+nt,ot="{M}/{D}",st="\n"+ot,rt=st+"/{YY}",ut="{aa}",at="{h}:{mm}"+ut,ct="\n"+at,ft=":{ss}",ht=null;function dt(e){let t=1e3*e,l=60*t,n=60*l,i=24*n,o=30*i,s=365*i;return[(1==e?ze(10,0,3,$e).filter(Ze):ze(10,-3,0,$e)).concat([t,5*t,10*t,15*t,30*t,l,5*l,10*l,15*l,30*l,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,nt,ht,ht,ht,ht,ht,ht,1],[28*i,"{MMM}",it,ht,ht,ht,ht,ht,1],[i,ot,it,ht,ht,ht,ht,ht,1],[n,"{h}"+ut,rt,ht,st,ht,ht,ht,1],[l,at,rt,ht,st,ht,ht,ht,1],[t,ft,rt+" "+at,ht,st+" "+at,ht,ct,ht,1],[e,ft+".{fff}",rt+" "+at,ht,st+" "+at,ht,ct,ht,1]],function(t){return(r,u,a,c,f,h)=>{let d=[],p=f>=s,m=f>=o&&s>f,g=t(a),x=Me(g*e,3),w=kt(g.getFullYear(),p?0:g.getMonth(),m||p?1:g.getDate()),b=Me(w*e,3);if(m||p){let l=m?f/o:0,n=p?f/s:0,i=x==b?x:Me(kt(w.getFullYear()+n,w.getMonth()+l,1)*e,3),r=new Date(le(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;c>=i;o++){let s=kt(u+n*o,a+l*o,1),r=s-t(Me(s*e,3));i=Me((+s+r)*e,3),i>c||d.push(i)}}else{let o=i>f?f:i,s=b+(te(a)-te(x))+ke(x-b,o);d.push(s);let p=t(s),m=p.getHours()+p.getMinutes()/l+p.getSeconds()/n,g=f/n,w=h/r.axes[u]._space;for(;s=Me(s+f,1==e?0:3),c>=s;)if(g>1){let e=te(Me(m+g,6))%24,l=t(s).getHours()-e;l>1&&(l=-1),s-=l*n,m=(m+g)%24,.7>Me((s-d[d.length-1])/f,3)*w||d.push(s)}else d.push(s)}return d}}]}const[pt,mt,gt]=dt(1),[xt,wt,bt]=dt(.001);function _t(e,t){return e.map((e=>e.map(((l,n)=>0==n||8==n||null==l?l:t(1==n||0==e[8]?l:e[1]+l)))))}function vt(e,t){return(l,n,i,o,s)=>{let r,u,a,c,f,h,d=t.find((e=>s>=e[0]))||t[t.length-1];return n.map((t=>{let l=e(t),n=l.getFullYear(),i=l.getMonth(),o=l.getDate(),s=l.getHours(),p=l.getMinutes(),m=l.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=c&&d[5]||p!=f&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,c=s,f=p,h=m,g(l)}))}}function kt(e,t,l){return new Date(e,t,l)}function yt(e,t){return t(e)}function Mt(e,t){return(l,n,i,o)=>null==o?w:t(e(n))}ze(2,-53,53,[1]);const St={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,t){let l=e.series[t];return l.width?l.stroke(e,t):l.points.width?l.points.stroke(e,t):null},fill:function(e,t){return e.series[t].fill(e,t)},dash:"solid"},idx:null,idxs:null,values:[]},Et=[0,0];function zt(e,t,l){return e=>{0==e.button&&l(e)}}function Dt(e,t,l){return l}const Tt={show:!0,x:!0,y:!0,lock:!1,move:function(e,t,l){return Et[0]=t,Et[1]=l,Et},points:{show:function(e,t){let i=e.cursor.points,o=T(),s=i.size(e,t);z(o,l,s),z(o,n,s);let r=s/-2;z(o,"marginLeft",r),z(o,"marginTop",r);let u=i.width(e,t,s);return u&&z(o,"borderWidth",u),o},size:function(e,t){return e.series[t].points.size},width:0,stroke:function(e,t){let l=e.series[t].points;return l._stroke||l._fill},fill:function(e,t){let l=e.series[t].points;return l._fill||l._stroke}},bind:{mousedown:zt,mouseup:zt,click:zt,dblclick:zt,mousemove:Dt,mouseleave:Dt,mouseenter:Dt},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:function(e,t,l){return l},idxs:null},Pt={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},At=Ge({},Pt,{filter:ge}),Wt=Ge({},At,{size:10}),Yt=Ge({},Pt,{show:!1}),Ct='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ft="bold "+Ct,Ht={show:!0,scale:"x",stroke:u,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Ft,side:2,grid:At,ticks:Wt,border:Yt,font:Ct,lineGap:1.5,rotate:0},Rt={show:!0,scale:"x",auto:!1,sorted:1,min:fe,max:-fe,idxs:[]};function Gt(e,t){return t.map((e=>null==e?"":Z(e)))}function It(e,t,l,n,i,o,s){let r=[],u=Se.get(i)||0;for(let e=l=s?l:Me(ke(l,i),u);n>=e;e=Me(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function Lt(e,t,l,n,i){const o=[],s=e.scales[e.axes[t].scale].log,r=te((10==s?ue:ae)(l));i=se(s,r),10==s&&0>r&&(i=Me(i,-r));let u=l;do{o.push(u),u+=i,10==s&&(u=Me(u,Se.get(i))),i*s>u||(i=u)}while(n>=u);return o}function Ot(e,t,l,n,i){let o=e.scales[e.axes[t].scale].asinh,s=n>o?Lt(e,t,oe(o,l),n,i):[o],r=0>n||l>0?[]:[0];return(-o>l?Lt(e,t,oe(o,-n),-l,i):[o]).reverse().map((e=>-e)).concat(r,s)}const Nt=/./,jt=/[12357]/,Ut=/[125]/,Bt=/1/,Vt=(e,t,l,n)=>e.map(((e,i)=>4==t&&0==e||i%n==0&&l.test(e.toExponential()[0])?e:null));function Jt(e,t,l){let n=e.axes[l],i=n.scale,o=e.scales[i],s=e.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Bt:Ut:jt:Nt;if(a==Bt){let e=ee(s(1,i)-u);if(r>e)return Vt(t.slice().reverse(),o.distr,a,ne(r/e)).reverse()}return Vt(t,o.distr,a,1)}function qt(e,t,l){let n=e.axes[l],i=n.scale,o=n._space,s=e.valToPos,r=ee(s(1,i)-s(2,i));return o>r?Vt(t.slice().reverse(),3,Nt,ne(o/r)).reverse():t}function Kt(e,t,l,n){return null==n?w:null==t?"":Z(t)}const Xt={show:!0,scale:"y",stroke:u,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:Ft,side:3,grid:At,ticks:Wt,border:Yt,font:Ct,lineGap:1.5,rotate:0},Zt={scale:null,auto:!0,sorted:0,min:fe,max:-fe},$t=(e,t,l,n,i)=>i,Qt={show:!0,auto:!0,sorted:0,gaps:$t,alpha:1,facets:[Ge({},Zt,{scale:"x"}),Ge({},Zt,{scale:"y"})]},el={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:$t,alpha:1,points:{show:function(e,t){let{scale:l,idxs:n}=e.series[0],i=e._data[0],o=e.valToPos(i[n[0]],l,!0),s=e.valToPos(i[n[1]],l,!0);return ee(s-o)/(e.series[t].points.space*y)>=n[1]-n[0]},filter:null},values:null,min:fe,max:-fe,idxs:[],path:null,clip:null};function tl(e,t,l){return l/10}const ll={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},nl=Ge({},ll,{time:!1,ori:1}),il={};function ol(e){let t=il[e];return t||(t={key:e,plots:[],sub(e){t.plots.push(e)},unsub(e){t.plots=t.plots.filter((t=>t!=e))},pub(e,l,n,i,o,s,r){for(let u=0;t.plots.length>u;u++)t.plots[u]!=l&&t.plots[u].pub(e,l,n,i,o,s,r)}},null!=e&&(il[e]=t)),t}function sl(e,t,l){const n=e.mode,i=e.series[t],o=2==n?e._data[t]:e._data,s=e.scales,r=e.bbox;let u=o[0],a=2==n?o[1]:o[t],c=2==n?s[i.facets[0].scale]:s[e.series[0].scale],f=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=e.valToPosH,x=e.valToPosV;return 0==c.ori?l(i,u,a,c,f,g,x,h,d,p,m,pl,gl,wl,_l,kl):l(i,u,a,c,f,x,g,d,h,m,p,ml,xl,bl,vl,yl)}function rl(e,t){let l=0,n=0,i=q(e.bands,Te);for(let e=0;i.length>e;e++){let o=i[e];o.series[0]==t?l=o.dir:o.series[1]==t&&(n|=1==o.dir?1:2)}return[l,1==n?-1:2==n?1:3==n?2:0]}function ul(e,t,l,n,i){let o=e.series[t],s=e.scales[2==e.mode?o.facets[1].scale:o.scale];return-1==i?s.min:1==i?s.max:3==s.distr?1==s.dir?s.min:s.max:0}function al(e,t,l,n,i,o){return sl(e,t,((e,t,s,r,u,a,c,f,h,d,p)=>{let m=e.pxRound;const g=0==r.ori?gl:xl;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=l,w=n):(x=n,w=l);let b=m(a(t[x],r,d,f)),_=m(c(s[x],u,p,h)),v=m(a(t[w],r,d,f)),k=m(c(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,v,k),g(y,b,k),g(y,b,_),y}))}function cl(e,t,l,n,i,o){let s=null;if(e.length>0){s=new Path2D;const r=0==t?wl:bl;let u=l;for(let t=0;e.length>t;t++){let l=e[t];if(l[1]>l[0]){let e=l[0]-u;e>0&&r(s,u,n,e,n+o),u=l[1]}}let a=l+i-u;a>0&&r(s,u,n,a,n+o)}return s}function fl(e,t,l,n,i,o,s){let r=[],u=e.length;for(let a=1==i?l:n;a>=l&&n>=a;a+=i)if(null===t[a]){let c=a,f=a;if(1==i)for(;++a<=n&&null===t[a];)f=a;else for(;--a>=l&&null===t[a];)f=a;let h=o(e[c]),d=f==c?h:o(e[f]),p=c-i;h=s>0||0>p||p>=u?h:o(e[p]);let m=f+i;d=0>s||0>m||m>=u?d:o(e[m]),h>d||r.push([h,d])}return r}function hl(e){return 0==e?me:1==e?le:t=>ve(t,e)}function dl(e){let t=0==e?pl:ml,l=0==e?(e,t,l,n,i,o)=>{e.arcTo(t,l,n,i,o)}:(e,t,l,n,i,o)=>{e.arcTo(l,t,i,n,o)},n=0==e?(e,t,l,n,i)=>{e.rect(t,l,n,i)}:(e,t,l,n,i)=>{e.rect(l,t,i,n)};return(e,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(e,i,o,s,r):(u=ie(u,s/2,r/2),a=ie(a,s/2,r/2),t(e,i+u,o),l(e,i+s,o,i+s,o+r,u),l(e,i+s,o+r,i,o+r,a),l(e,i,o+r,i,o,a),l(e,i,o,i+s,o,u),e.closePath())}}const pl=(e,t,l)=>{e.moveTo(t,l)},ml=(e,t,l)=>{e.moveTo(l,t)},gl=(e,t,l)=>{e.lineTo(t,l)},xl=(e,t,l)=>{e.lineTo(l,t)},wl=dl(0),bl=dl(1),_l=(e,t,l,n,i,o)=>{e.arc(t,l,n,i,o)},vl=(e,t,l,n,i,o)=>{e.arc(l,t,n,i,o)},kl=(e,t,l,n,i,o,s)=>{e.bezierCurveTo(t,l,n,i,o,s)},yl=(e,t,l,n,i,o,s)=>{e.bezierCurveTo(l,t,i,n,s,o)};function Ml(){return(e,t,l,n,i)=>sl(e,t,((t,o,s,r,u,a,c,f,h,d,p)=>{let m,g,{pxRound:x,points:w}=t;0==r.ori?(m=pl,g=_l):(m=ml,g=vl);const b=Me(w.width*y,3);let _=(w.size-w.width)/2*y,v=Me(2*_,3),k=new Path2D,M=new Path2D,{left:S,top:E,width:z,height:D}=e.bbox;wl(M,S-v,E-v,z+2*v,D+2*v);const T=e=>{if(null!=s[e]){let t=x(a(o[e],r,d,f)),l=x(c(s[e],u,p,h));m(k,t+_,l),g(k,t,l,_,0,2*Q)}};if(i)i.forEach(T);else for(let e=l;n>=e;e++)T(e);return{stroke:b>0?k:null,fill:k,clip:M,flags:3}}))}function Sl(e){return(t,l,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(t,l,n),o!=i&&s!=i&&e(t,l,i),e(t,l,s))}}const El=Sl(gl),zl=Sl(xl);function Dl(e){const t=q(e?.alignGaps,0);return(e,l,n,i)=>sl(e,l,((o,s,r,u,a,c,f,h,d,p,m)=>{let g,x,w=o.pxRound,b=e=>w(c(e,u,p,h)),_=e=>w(f(e,a,m,d));0==u.ori?(g=gl,x=El):(g=xl,x=zl);const v=u.dir*(0==u.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},y=k.stroke;let M,S,E,z=fe,D=-fe,T=b(s[1==v?n:i]),P=O(r,n,i,1*v),A=O(r,n,i,-1*v),W=b(s[P]),Y=b(s[A]),C=!1;for(let e=1==v?n:i;e>=n&&i>=e;e+=v){let t=b(s[e]),l=r[e];t==T?null!=l?(S=_(l),z==fe&&(g(y,t,S),M=S),z=ie(S,z),D=oe(S,D)):null===l&&(C=!0):(z!=fe&&(x(y,T,z,D,M,S),E=T),null!=l?(S=_(l),g(y,t,S),z=D=M=S):(z=fe,D=-fe,null===l&&(C=!0)),T=t)}z!=fe&&z!=D&&E!=T&&x(y,T,z,D,M,S);let[F,H]=rl(e,l);if(null!=o.fill||0!=F){let t=k.fill=new Path2D(y),n=_(o.fillTo(e,l,o.min,o.max,F));g(t,Y,n),g(t,W,n)}if(!o.spanGaps){let a=[];C&&a.push(...fl(s,r,n,i,v,b,t)),k.gaps=a=o.gaps(e,l,n,i,a),k.clip=cl(a,u.ori,h,d,p,m)}return 0!=H&&(k.band=2==H?[al(e,l,n,i,y,-1),al(e,l,n,i,y,1)]:al(e,l,n,i,y,H)),k}))}function Tl(e,t,l,n,i){const o=e.length;if(2>o)return null;const s=new Path2D;if(l(s,e[0],t[0]),2==o)n(s,e[1],t[1]);else{let l=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let l=0;o-1>l;l++)r[l]=t[l+1]-t[l],u[l]=e[l+1]-e[l],n[l]=r[l]/u[l];l[0]=n[0];for(let e=1;o-1>e;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?l[e]=0:(l[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(l[e])||(l[e]=0));l[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,e[n]+u[n]/3,t[n]+l[n]*u[n]/3,e[n+1]-u[n]/3,t[n+1]-l[n+1]*u[n]/3,e[n+1],t[n+1])}return s}const Pl=new Set;function Al(){for(let e of Pl)e.syncRect(!0)}b&&(G("resize",v,Al),G("scroll",v,Al,!0),G(x,v,(()=>{Vl.pxRatio=y})));const Wl=Dl(),Yl=Ml();function Cl(e,t,l,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>Fl(e,n,t,l)))}function Fl(e,t,l,n){return Ge({},0==t?l:n,e)}function Hl(e,t,l){return null==t?Pe:[t,l]}const Rl=Hl;function Gl(e,t,l){return null==t?Pe:J(t,l,.1,!0)}function Il(e,t,l,n){return null==t?Pe:N(t,l,e.scales[n].log,!1)}const Ll=Il;function Ol(e,t,l,n){return null==t?Pe:j(t,l,e.scales[n].log,!1)}const Nl=Ol;function jl(e,t,l,n,i){let o=oe(he(e),he(t)),s=t-e,r=L(i/n*s,l);do{let e=l[r],t=n*e/s;if(t>=i&&17>=o+(5>e?Se.get(e):0))return[e,t]}while(++r<l.length);return[0,0]}function Ul(e){let t,l;return[e=e.replace(/(\d+)px/,((e,n)=>(t=le((l=+n)*y))+"px")),t,l]}function Bl(e){e.show&&[e.font,e.labelFont].forEach((e=>{let t=Me(e[2]*y,1);e[0]=e[0].replace(/[0-9.]+px/,t+"px"),e[1]=t}))}function Vl(u,g,b){const k={mode:q(u.mode,1)},M=k.mode;function P(e,t){return((3==t.distr?ue(e>0?e:t.clamp(k,e,t.min,t.max,t.key)):4==t.distr?ce(e,t.asinh):e)-t._min)/(t._max-t._min)}function W(e,t,l,n){let i=P(e,t);return n+l*(-1==t.dir?1-i:i)}function C(e,t,l,n){let i=P(e,t);return n+l*(-1==t.dir?i:1-i)}function H(e,t,l,n){return 0==t.ori?W(e,t,l,n):C(e,t,l,n)}k.valToPosH=W,k.valToPosV=C;let R=!1;k.status=0;const O=k.root=T("uplot");null!=u.id&&(O.id=u.id),S(O,u.class),u.title&&(T("u-title",O).textContent=u.title);const B=D("canvas"),V=k.ctx=B.getContext("2d"),K=T("u-wrap",O);G("click",K,(e=>{(yn!=bn||Mn!=_n)&&Pn.click(k,e)}),!0);const X=k.under=T("u-under",K);K.appendChild(B);const Z=k.over=T("u-over",K),te=+q((u=Re(u)).pxAlign,1),re=hl(te);(u.plugins||[]).forEach((e=>{e.opts&&(u=e.opts(k,u)||u)}));const ae=u.ms||.001,he=k.series=1==M?Cl(u.series||[],Rt,el,!1):function(e,t){return e.map(((e,l)=>0==l?null:Ge({},t,e)))}(u.series||[null],Qt),me=k.axes=Cl(u.axes||[],Ht,Xt,!0),_e=k.scales={},ye=k.bands=u.bands||[];ye.forEach((e=>{e.fill=pe(e.fill||null),e.dir=q(e.dir,-1)}));const ze=2==M?he[1].facets[0].scale:he[0].scale,We={axes:function(){for(let e=0;me.length>e;e++){let t=me[e];if(!t.show||!t._show)continue;let l,n,u=t.side,a=u%2,c=t.stroke(k,e),f=0==u||3==u?-1:1;if(t.label){let e=le((t._lpos+t.labelGap*f)*y);tn(t.labelFont[0],c,"center",2==u?i:o),V.save(),1==a?(l=n=0,V.translate(e,le(jt+Bt/2)),V.rotate((3==u?-Q:Q)/2)):(l=le(Nt+Ut/2),n=e),V.fillText(t.label,l,n),V.restore()}let[h,d]=t._found;if(0==d)continue;let p=_e[t.scale],m=0==a?Ut:Bt,g=0==a?Nt:jt,x=le(t.gap*y),w=t._splits,b=2==p.distr?w.map((e=>Xl[e])):w,_=2==p.distr?Xl[w[1]]-Xl[w[0]]:h,v=t.ticks,M=t.border,S=v.show?le(v.size*y):0,E=t._rotate*-Q/180,z=re(t._pos*y),D=z+(S+x)*f;n=0==a?D:0,l=1==a?D:0,tn(t.font[0],c,1==t.align?s:2==t.align?r:E>0?s:0>E?r:0==a?"center":3==u?r:s,E||1==a?"middle":2==u?i:o);let T=t.font[1]*t.lineGap,P=w.map((e=>re(H(e,p,m,g)))),A=t._values;for(let e=0;A.length>e;e++){let t=A[e];if(null!=t){0==a?l=P[e]:n=P[e],t=""+t;let i=-1==t.indexOf("\n")?[t]:t.split(/\n/gm);for(let e=0;i.length>e;e++){let t=i[e];E?(V.save(),V.translate(l,n+e*T),V.rotate(E),V.fillText(t,0,0),V.restore()):V.fillText(t,l,n+e*T)}}}v.show&&an(P,v.filter(k,b,e,d,_),a,u,z,S,Me(v.width*y,3),v.stroke(k,e),v.dash,v.cap);let W=t.grid;W.show&&an(P,W.filter(k,b,e,d,_),a,0==a?2:1,0==a?jt:Nt,0==a?Bt:Ut,Me(W.width*y,3),W.stroke(k,e),W.dash,W.cap),M.show&&an([z],[1],0==a?1:0,0==a?1:2,1==a?jt:Nt,1==a?Bt:Ut,Me(M.width*y,3),M.stroke(k,e),M.dash,M.cap)}ui("drawAxes")},series:function(){vl>0&&(he.forEach(((e,t)=>{if(t>0&&e.show&&null==e._paths){let l=2==M?[0,g[t][0].length-1]:function(e){let t=de(kl-1,0,vl-1),l=de(yl+1,0,vl-1);for(;null==e[t]&&t>0;)t--;for(;null==e[l]&&vl-1>l;)l++;return[t,l]}(g[t]);e._paths=e.paths(k,t,l[0],l[1])}})),he.forEach(((e,t)=>{if(t>0&&e.show){Kl!=e.alpha&&(V.globalAlpha=Kl=e.alpha),nn(t,!1),e._paths&&on(t,!1);{nn(t,!0);let l=e._paths?e._paths.gaps:null,n=e.points.show(k,t,kl,yl,l),i=e.points.filter(k,t,n,l);(n||i)&&(e.points._paths=e.points.paths(k,t,kl,yl,i),on(t,!0))}1!=Kl&&(V.globalAlpha=Kl=1),ui("drawSeries",t)}})))}},He=(u.drawOrder||["axes","series"]).map((e=>We[e]));function Ie(e){let t=_e[e];if(null==t){let l=(u.scales||De)[e]||De;if(null!=l.from)Ie(l.from),_e[e]=Ge({},_e[l.from],l,{key:e});else{t=_e[e]=Ge({},e==ze?ll:nl,l),t.key=e;let n=t.time,i=t.range,o=Ae(i);if((e!=ze||2==M&&!n)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?U:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?U:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&Ce(i))){let e=i;i=(t,l,n)=>null==l?Pe:J(l,n,e)}t.range=pe(i||(n?Rl:e==ze?3==t.distr?Ll:4==t.distr?Nl:Hl:3==t.distr?Il:4==t.distr?Ol:Gl)),t.auto=pe(!o&&t.auto),t.clamp=pe(t.clamp||tl),t._min=t._max=null}}}Ie("x"),Ie("y"),1==M&&he.forEach((e=>{Ie(e.scale)})),me.forEach((e=>{Ie(e.scale)}));for(let e in u.scales)Ie(e);const Oe=_e[ze],Ne=Oe.distr;let je,Ue;0==Oe.ori?(S(O,"u-hz"),je=W,Ue=C):(S(O,"u-vt"),je=C,Ue=W);const Be={};for(let e in _e){let t=_e[e];null==t.min&&null==t.max||(Be[e]={min:t.min,max:t.max},t.min=t.max=null)}const Ve=u.tzDate||(e=>new Date(le(e/ae))),Je=u.fmtDate||Ke,qe=1==ae?gt(Ve):bt(Ve),Xe=vt(Ve,_t(1==ae?mt:wt,Je)),Ze=Mt(Ve,yt("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Je)),$e=[],Qe=k.legend=Ge({},St,u.legend),et=Qe.show,nt=Qe.markers;let it,ot,st;Qe.idxs=$e,nt.width=pe(nt.width),nt.dash=pe(nt.dash),nt.stroke=pe(nt.stroke),nt.fill=pe(nt.fill);let rt,ut=[],at=[],ct=!1,ft={};if(Qe.live){const e=he[1]?he[1].values:null;ct=null!=e,rt=ct?e(k,1,0):{_:0};for(let e in rt)ft[e]=w}if(et)if(it=D("table","u-legend",O),st=D("tbody",null,it),Qe.mount(k,it),ct){ot=D("thead",null,it,st);let e=D("tr",null,ot);for(var ht in D("th",null,e),rt)D("th",t,e).textContent=ht}else S(it,"u-inline"),Qe.live&&S(it,"u-live");const dt={show:!0},kt={show:!1},Et=new Map;function zt(e,t,l){const n=Et.get(t)||{},i=fl.bind[e](k,t,l);i&&(G(e,t,n[e]=i),Et.set(t,n))}function Dt(e,t){const l=Et.get(t)||{};for(let n in l)null!=e&&n!=e||(I(n,t,l[n]),delete l[n]);null==e&&Et.delete(t)}let Pt=0,At=0,Wt=0,Yt=0,Ct=0,Ft=0,Nt=0,jt=0,Ut=0,Bt=0;k.bbox={};let Vt=!1,Zt=!1,$t=!1,il=!1,sl=!1,rl=!1;function al(e,t,l){(l||e!=k.width||t!=k.height)&&cl(e,t),hn(!1),$t=!0,Zt=!0,0>fl.left||(il=rl=!0),En()}function cl(e,t){k.width=Pt=Wt=e,k.height=At=Yt=t,Ct=Ft=0,function(){let e=!1,t=!1,l=!1,n=!1;me.forEach((i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(Wt-=r,3==o?(Ct+=r,n=!0):l=!0):(Yt-=r,0==o?(Ft+=r,e=!0):t=!0))}})),xl[0]=e,xl[1]=l,xl[2]=t,xl[3]=n,Wt-=_l[1]+_l[3],Ct+=_l[3],Yt-=_l[2]+_l[0],Ft+=_l[0]}(),function(){let e=Ct+Wt,t=Ft+Yt,l=Ct,n=Ft;function i(i,o){switch(i){case 1:return e+=o,e-o;case 2:return t+=o,t-o;case 3:return l-=o,l+o;case 0:return n-=o,n+o}}me.forEach((e=>{if(e.show&&e._show){let t=e.side;e._pos=i(t,e._size),null!=e.label&&(e._lpos=i(t,e.labelSize))}}))}();let l=k.bbox;Nt=l.left=ve(Ct*y,.5),jt=l.top=ve(Ft*y,.5),Ut=l.width=ve(Wt*y,.5),Bt=l.height=ve(Yt*y,.5)}k.setSize=function({width:e,height:t}){al(e,t)};const fl=k.cursor=Ge({},Tt,{drag:{y:2==M}},u.cursor);{fl.idxs=$e,fl._lock=!1;let e=fl.points;e.show=pe(e.show),e.size=pe(e.size),e.stroke=pe(e.stroke),e.width=pe(e.width),e.fill=pe(e.fill)}const dl=k.focus=Ge({},u.focus||{alpha:.3},fl.focus),pl=dl.prox>=0;let ml=[null];function gl(l,n){if(1==M||n>0){let e=1==M&&_e[l.scale].time,t=l.value;l.value=e?Ye(t)?Mt(Ve,yt(t,Je)):t||Ze:t||Kt,l.label=l.label||(e?"Time":"Value")}if(n>0){l.width=null==l.width?1:l.width,l.paths=l.paths||Wl||xe,l.fillTo=pe(l.fillTo||ul),l.pxAlign=+q(l.pxAlign,te),l.pxRound=hl(l.pxAlign),l.stroke=pe(l.stroke||null),l.fill=pe(l.fill||null),l._stroke=l._fill=l._paths=l._focus=null;let e=function(e){return Me(1*(3+2*(e||1)),3)}(oe(1,l.width)),t=l.points=Ge({},{size:e,width:oe(1,.2*e),stroke:l.stroke,space:2*e,paths:Yl,_stroke:null,_fill:null},l.points);t.show=pe(t.show),t.filter=pe(t.filter),t.fill=pe(t.fill),t.stroke=pe(t.stroke),t.paths=pe(t.paths),t.pxAlign=l.pxAlign}if(et){let i=function(l,n){if(0==n&&(ct||!Qe.live||2==M))return Pe;let i=[],o=D("tr","u-series",st,st.childNodes[n]);S(o,l.class),l.show||S(o,e);let s=D("th",null,o);if(nt.show){let e=T("u-marker",s);if(n>0){let t=nt.width(k,n);t&&(e.style.border=t+"px "+nt.dash(k,n)+" "+nt.stroke(k,n)),e.style.background=nt.fill(k,n)}}let r=T(t,s);for(var u in r.textContent=l.label,n>0&&(nt.show||(r.style.color=l.width>0?nt.stroke(k,n):nt.fill(k,n)),zt("click",s,(e=>{if(fl._lock)return;let t=he.indexOf(l);if((e.ctrlKey||e.metaKey)!=Qe.isolate){let e=he.some(((e,l)=>l>0&&l!=t&&e.show));he.forEach(((l,n)=>{n>0&&Rn(n,e?n==t?dt:kt:dt,!0,ci.setSeries)}))}else Rn(t,{show:!l.show},!0,ci.setSeries)})),pl&&zt(d,s,(()=>{fl._lock||Rn(he.indexOf(l),On,!0,ci.setSeries)}))),rt){let e=D("td","u-value",o);e.textContent="--",i.push(e)}return[o,i]}(l,n);ut.splice(n,0,i[0]),at.splice(n,0,i[1]),Qe.values.push(null)}if(fl.show){$e.splice(n,0,null);let e=function(e,t){if(t>0){let l=fl.points.show(k,t);if(l)return S(l,"u-cursor-pt"),S(l,e.class),A(l,-10,-10,Wt,Yt),Z.insertBefore(l,ml[t]),l}}(l,n);e&&ml.splice(n,0,e)}ui("addSeries",n)}k.addSeries=function(e,t){t=null==t?he.length:t,e=1==M?Fl(e,t,Rt,el):Fl(e,t,null,Qt),he.splice(t,0,e),gl(he[t],t)},k.delSeries=function(e){if(he.splice(e,1),et){Qe.values.splice(e,1),at.splice(e,1);let t=ut.splice(e,1)[0];Dt(null,t.firstChild),t.remove()}fl.show&&($e.splice(e,1),ml.length>1&&ml.splice(e,1)[0].remove()),ui("delSeries",e)};const xl=[!1,!1,!1,!1];function wl(e,t,l){let[n,i,o,s]=l,r=t%2,u=0;return 0==r&&(s||i)&&(u=0==t&&!n||2==t&&!o?le(Ht.size/3):0),1==r&&(n||o)&&(u=1==t&&!i||3==t&&!s?le(Xt.size/2):0),u}const bl=k.padding=(u.padding||[wl,wl,wl,wl]).map((e=>pe(q(e,wl)))),_l=k._padding=bl.map(((e,t)=>e(k,t,xl,0)));let vl,kl=null,yl=null;const Ml=1==M?he[0].idxs:null;let Sl,El,zl,Dl,Tl,Al,Vl,Jl,ql,Kl,Xl=null,Zl=!1;function $l(e,t){if(g=null==e?[]:Re(e,Fe),2==M){vl=0;for(let e=1;he.length>e;e++)vl+=g[e][0].length;k.data=g=e}else if(null==g[0]&&(g[0]=[]),k.data=g.slice(),Xl=g[0],vl=Xl.length,2==Ne){g[0]=Array(vl);for(let e=0;vl>e;e++)g[0][e]=e}if(k._data=g,hn(!0),ui("setData"),2==Ne&&($t=!0),!1!==t){let e=Oe;e.auto(k,Zl)?Ql():Hn(ze,e.min,e.max),il=fl.left>=0,rl=!0,En()}}function Ql(){let e,t;Zl=!0,1==M&&(vl>0?(kl=Ml[0]=0,yl=Ml[1]=vl-1,e=g[0][kl],t=g[0][yl],2==Ne?(e=kl,t=yl):1==vl&&(3==Ne?[e,t]=N(e,e,Oe.log,!1):4==Ne?[e,t]=j(e,e,Oe.log,!1):Oe.time?t=e+le(86400/ae):[e,t]=J(e,t,.1,!0))):(kl=Ml[0]=e=null,yl=Ml[1]=t=null)),Hn(ze,e,t)}function en(e,t,l,n,i,o){e??=a,l??=Te,n??="butt",i??=a,o??="round",e!=Sl&&(V.strokeStyle=Sl=e),i!=El&&(V.fillStyle=El=i),t!=zl&&(V.lineWidth=zl=t),o!=Tl&&(V.lineJoin=Tl=o),n!=Al&&(V.lineCap=Al=n),l!=Dl&&V.setLineDash(Dl=l)}function tn(e,t,l,n){t!=El&&(V.fillStyle=El=t),e!=Vl&&(V.font=Vl=e),l!=Jl&&(V.textAlign=Jl=l),n!=ql&&(V.textBaseline=ql=n)}function ln(e,t,l,n,i=0){if(n.length>0&&e.auto(k,Zl)&&(null==t||null==t.min)){let t=q(kl,0),o=q(yl,n.length-1),s=null==l.min?3==e.distr?function(e,t,l){let n=fe,i=-fe;for(let o=t;l>=o;o++)e[o]>0&&(n=ie(n,e[o]),i=oe(i,e[o]));return[n==fe?1:n,i==-fe?10:i]}(n,t,o):function(e,t,l,n){let i=fe,o=-fe;if(1==n)i=e[t],o=e[l];else if(-1==n)i=e[l],o=e[t];else for(let n=t;l>=n;n++)null!=e[n]&&(i=ie(i,e[n]),o=oe(o,e[n]));return[i,o]}(n,t,o,i):[l.min,l.max];e.min=ie(e.min,l.min=s[0]),e.max=oe(e.max,l.max=s[1])}}function nn(e,t){let l=t?he[e].points:he[e];l._stroke=l.stroke(k,e),l._fill=l.fill(k,e)}function on(e,t){let l=t?he[e].points:he[e],n=l._stroke,i=l._fill,{stroke:o,fill:s,clip:r,flags:u}=l._paths,a=null,c=Me(l.width*y,3),f=c%2/2;t&&null==i&&(i=c>0?"#fff":n);let h=1==l.pxAlign;if(h&&V.translate(f,f),!t){let e=Nt,t=jt,n=Ut,i=Bt,o=c*y/2,{min:s,max:r,dir:u}=_e[l.scale];(1==u?l.min==s:l.max==r)&&(i+=o),(1==u?l.max==r:l.min==s)&&(t-=o,i+=o),a=new Path2D,a.rect(e,t,n,i)}t?sn(n,c,l.dash,l.cap,i,o,s,u,r):function(e,t,l,n,i,o,s,r,u,a,c){let f=!1;ye.forEach(((h,d)=>{if(h.series[0]==e){let e,p=he[h.series[1]],m=g[h.series[1]],x=(p._paths||De).band;Ae(x)&&(x=1==h.dir?x[0]:x[1]);let w=null;p.show&&x&&function(e,t,l){for(t=q(t,0),l=q(l,e.length-1);l>=t;){if(null!=e[t])return!0;t++}return!1}(m,kl,yl)?(w=h.fill(k,d)||o,e=p._paths.clip):x=null,sn(t,l,n,i,w,s,r,u,a,c,e,x),f=!0}})),f||sn(t,l,n,i,o,s,r,u,a,c)}(e,n,c,l.dash,l.cap,i,o,s,u,a,r),h&&V.translate(-f,-f)}function sn(e,t,l,n,i,o,s,r,u,a,c,f){en(e,t,l,n,i),(u||a||f)&&(V.save(),u&&V.clip(u),a&&V.clip(a)),f?3==(3&r)?(V.clip(f),c&&V.clip(c),un(i,s),rn(e,o,t)):2&r?(un(i,s),V.clip(f),rn(e,o,t)):1&r&&(V.save(),V.clip(f),c&&V.clip(c),un(i,s),V.restore(),rn(e,o,t)):(un(i,s),rn(e,o,t)),(u||a||f)&&V.restore()}function rn(e,t,l){l>0&&(t instanceof Map?t.forEach(((e,t)=>{V.strokeStyle=Sl=t,V.stroke(e)})):null!=t&&e&&V.stroke(t))}function un(e,t){t instanceof Map?t.forEach(((e,t)=>{V.fillStyle=El=t,V.fill(e)})):null!=t&&e&&V.fill(t)}function an(e,t,l,n,i,o,s,r,u,a){let c=s%2/2;1==te&&V.translate(c,c),en(r,s,u,a,r),V.beginPath();let f,h,d,p,m=i+(0==n||3==n?-o:o);0==l?(h=i,p=m):(f=i,d=m);for(let n=0;e.length>n;n++)null!=t[n]&&(0==l?f=d=e[n]:h=p=e[n],V.moveTo(f,h),V.lineTo(d,p));V.stroke(),1==te&&V.translate(-c,-c)}function cn(e){let t=!0;return me.forEach(((l,n)=>{if(!l.show)return;let i=_e[l.scale];if(null==i.min)return void(l._show&&(t=!1,l._show=!1,hn(!1)));l._show||(t=!1,l._show=!0,hn(!1));let o=l.side,s=o%2,{min:r,max:u}=i,[a,c]=function(e,t,l,n){let i,o=me[e];if(n>0){let s=o._space=o.space(k,e,t,l,n);i=jl(t,l,o._incrs=o.incrs(k,e,t,l,n,s),n,s)}else i=[0,0];return o._found=i}(n,r,u,0==s?Wt:Yt);if(0==c)return;let f=l._splits=l.splits(k,n,r,u,a,c,2==i.distr),h=2==i.distr?f.map((e=>Xl[e])):f,d=2==i.distr?Xl[f[1]]-Xl[f[0]]:a,p=l._values=l.values(k,l.filter(k,h,n,c,d),n,c,d);l._rotate=2==o?l.rotate(k,p,n,c):0;let m=l._size;l._size=ne(l.size(k,p,n,e)),null!=m&&l._size!=m&&(t=!1)})),t}function fn(e){let t=!0;return bl.forEach(((l,n)=>{let i=l(k,n,xl,e);i!=_l[n]&&(t=!1),_l[n]=i})),t}function hn(e){he.forEach(((t,l)=>{l>0&&(t._paths=null,e&&(1==M?(t.min=null,t.max=null):t.facets.forEach((e=>{e.min=null,e.max=null}))))}))}k.setData=$l;let dn,pn,mn,gn,xn,wn,bn,_n,vn,kn,yn,Mn,Sn=!1;function En(){Sn||(Le(zn),Sn=!0)}function zn(){Vt&&(function(){let e=Re(_e,Fe);for(let t in e){let l=e[t],n=Be[t];if(null!=n&&null!=n.min)Ge(l,n),t==ze&&hn(!0);else if(t!=ze||2==M)if(0==vl&&null==l.from){let e=l.range(k,null,null,t);l.min=e[0],l.max=e[1]}else l.min=fe,l.max=-fe}if(vl>0){he.forEach(((t,l)=>{if(1==M){let n=t.scale,i=e[n],o=Be[n];if(0==l){let e=i.range(k,i.min,i.max,n);i.min=e[0],i.max=e[1],kl=L(i.min,g[0]),yl=L(i.max,g[0]),yl-kl>1&&(i.min>g[0][kl]&&kl++,g[0][yl]>i.max&&yl--),t.min=Xl[kl],t.max=Xl[yl]}else t.show&&t.auto&&ln(i,o,t,g[l],t.sorted);t.idxs[0]=kl,t.idxs[1]=yl}else if(l>0&&t.show&&t.auto){let[n,i]=t.facets,o=n.scale,s=i.scale,[r,u]=g[l];ln(e[o],Be[o],n,r,n.sorted),ln(e[s],Be[s],i,u,i.sorted),t.min=i.min,t.max=i.max}}));for(let t in e){let l=e[t],n=Be[t];if(null==l.from&&(null==n||null==n.min)){let e=l.range(k,l.min==fe?null:l.min,l.max==-fe?null:l.max,t);l.min=e[0],l.max=e[1]}}}for(let t in e){let l=e[t];if(null!=l.from){let n=e[l.from];if(null==n.min)l.min=l.max=null;else{let e=l.range(k,n.min,n.max,t);l.min=e[0],l.max=e[1]}}}let t={},l=!1;for(let n in e){let i=e[n],o=_e[n];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let e=o.distr;o._min=3==e?ue(o.min):4==e?ce(o.min,o.asinh):o.min,o._max=3==e?ue(o.max):4==e?ce(o.max,o.asinh):o.max,t[n]=l=!0}}if(l){he.forEach(((e,l)=>{2==M?l>0&&t.y&&(e._paths=null):t[e.scale]&&(e._paths=null)}));for(let e in t)$t=!0,ui("setScale",e);fl.show&&fl.left>=0&&(il=rl=!0)}for(let e in Be)Be[e]=null}(),Vt=!1),$t&&(function(){let e=!1,t=0;for(;!e;){t++;let l=cn(t),n=fn(t);e=3==t||l&&n,e||(cl(k.width,k.height),Zt=!0)}}(),$t=!1),Zt&&(z(X,s,Ct),z(X,i,Ft),z(X,l,Wt),z(X,n,Yt),z(Z,s,Ct),z(Z,i,Ft),z(Z,l,Wt),z(Z,n,Yt),z(K,l,Pt),z(K,n,At),B.width=le(Pt*y),B.height=le(At*y),me.forEach((({_el:t,_show:l,_size:n,_pos:i,side:o})=>{if(null!=t)if(l){let l=o%2==1;z(t,l?"left":"top",i-(3===o||0===o?n:0)),z(t,l?"width":"height",n),z(t,l?"top":"left",l?Ft:Ct),z(t,l?"height":"width",l?Yt:Wt),E(t,e)}else S(t,e)})),Sl=El=zl=Tl=Al=Vl=Jl=ql=Dl=null,Kl=1,Zn(!0),ui("setSize"),Zt=!1),Pt>0&&At>0&&(V.clearRect(0,0,B.width,B.height),ui("drawClear"),He.forEach((e=>e())),ui("draw")),Yn.show&&sl&&(Fn(Yn),sl=!1),fl.show&&il&&(Kn(null,!0,!1),il=!1),Qe.show&&Qe.live&&rl&&(Jn(),rl=!1),R||(R=!0,k.status=1,ui("ready")),Zl=!1,Sn=!1}function Dn(e,t){let l=_e[e];if(null==l.from){if(0==vl){let n=l.range(k,t.min,t.max,e);t.min=n[0],t.max=n[1]}if(t.min>t.max){let e=t.min;t.min=t.max,t.max=e}if(vl>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;e==ze&&2==l.distr&&vl>0&&(t.min=L(t.min,g[0]),t.max=L(t.max,g[0]),t.min==t.max&&t.max++),Be[e]=t,Vt=!0,En()}}k.redraw=(e,t)=>{$t=t||!1,!1!==e?Hn(ze,Oe.min,Oe.max):En()},k.setScale=Dn;let Tn=!1;const Pn=fl.drag;let An=Pn.x,Wn=Pn.y;fl.show&&(fl.x&&(dn=T("u-cursor-x",Z)),fl.y&&(pn=T("u-cursor-y",Z)),0==Oe.ori?(mn=dn,gn=pn):(mn=pn,gn=dn),yn=fl.left,Mn=fl.top);const Yn=k.select=Ge({show:!0,over:!0,left:0,width:0,top:0,height:0},u.select),Cn=Yn.show?T("u-select",Yn.over?Z:X):null;function Fn(e,t){if(Yn.show){for(let t in e)Yn[t]=e[t],t in ei&&z(Cn,t,e[t]);!1!==t&&ui("setSelect")}}function Hn(e,t,l){Dn(e,{min:t,max:l})}function Rn(t,l,n,i){null!=l.focus&&function(e){if(e!=Ln){let t=null==e,l=1!=dl.alpha;he.forEach(((n,i)=>{let o=t||0==i||i==e;n._focus=t?null:o,l&&function(e,t){he[e].alpha=t,fl.show&&ml[e]&&(ml[e].style.opacity=t),et&&ut[e]&&(ut[e].style.opacity=t)}(i,o?1:dl.alpha)})),Ln=e,l&&En()}}(t),null!=l.show&&he.forEach(((n,i)=>{0>=i||t!=i&&null!=t||(n.show=l.show,function(t){let l=et?ut[t]:null;he[t].show?l&&E(l,e):(l&&S(l,e),ml.length>1&&A(ml[t],-10,-10,Wt,Yt))}(i),Hn(2==M?n.facets[1].scale:n.scale,null,null),En())})),!1!==n&&ui("setSeries",t,l),i&&di("setSeries",k,t,l)}let Gn,In,Ln;k.setSelect=Fn,k.setSeries=Rn,k.addBand=function(e,t){e.fill=pe(e.fill||null),e.dir=q(e.dir,-1),ye.splice(t=null==t?ye.length:t,0,e)},k.setBand=function(e,t){Ge(ye[e],t)},k.delBand=function(e){null==e?ye.length=0:ye.splice(e,1)};const On={focus:!0};function Nn(e,t,l){let n=_e[t];l&&(e=e/y-(1==n.ori?Ft:Ct));let i=Wt;1==n.ori&&(i=Yt,e=i-e),-1==n.dir&&(e=i-e);let o=n._min,s=o+e/i*(n._max-o),r=n.distr;return 3==r?se(10,s):4==r?((e,t=1)=>$.sinh(e)*t)(s,n.asinh):s}function jn(e,t){z(Cn,s,Yn.left=e),z(Cn,l,Yn.width=t)}function Un(e,t){z(Cn,i,Yn.top=e),z(Cn,n,Yn.height=t)}et&&pl&&G(p,it,(()=>{fl._lock||null!=Ln&&Rn(null,On,!0,ci.setSeries)})),k.valToIdx=e=>L(e,g[0]),k.posToIdx=function(e,t){return L(Nn(e,ze,t),g[0],kl,yl)},k.posToVal=Nn,k.valToPos=(e,t,l)=>0==_e[t].ori?W(e,_e[t],l?Ut:Wt,l?Nt:0):C(e,_e[t],l?Bt:Yt,l?jt:0),k.batch=function(e){e(k),En()},k.setCursor=(e,t,l)=>{yn=e.left,Mn=e.top,Kn(null,t,l)};let Bn=0==Oe.ori?jn:Un,Vn=1==Oe.ori?jn:Un;function Jn(e,t){null!=e&&(e.idxs?e.idxs.forEach(((e,t)=>{$e[t]=e})):(e=>void 0===e)(e.idx)||$e.fill(e.idx),Qe.idx=$e[0]);for(let e=0;he.length>e;e++)(e>0||1==M&&!ct)&&qn(e,$e[e]);et&&Qe.live&&function(){if(et&&Qe.live)for(let e=2==M?1:0;he.length>e;e++){if(0==e&&ct)continue;let t=Qe.values[e],l=0;for(let n in t)at[e][l++].firstChild.nodeValue=t[n]}}(),rl=!1,!1!==t&&ui("setLegend")}function qn(e,t){let l,n=he[e],i=0==e&&2==Ne?Xl:g[e];ct?l=n.values(k,e,t)??ft:(l=n.value(k,null==t?null:i[t],e,t),l=null==l?ft:{_:l}),Qe.values[e]=l}function Kn(e,t,l){let n;vn=yn,kn=Mn,[yn,Mn]=fl.move(k,yn,Mn),fl.show&&(mn&&A(mn,le(yn),0,Wt,Yt),gn&&A(gn,0,le(Mn),Wt,Yt)),Gn=fe;let i=0==Oe.ori?Wt:Yt,o=1==Oe.ori?Wt:Yt;if(0>yn||0==vl||kl>yl){n=null;for(let e=0;he.length>e;e++)e>0&&ml.length>1&&A(ml[e],-10,-10,Wt,Yt);pl&&Rn(null,On,!0,null==e&&ci.setSeries),Qe.live&&($e.fill(n),rl=!0)}else{let e,t,l;1==M&&(e=0==Oe.ori?yn:Mn,t=Nn(e,ze),n=L(t,g[0],kl,yl),l=je(g[0][n],Oe,i,0));for(let e=2==M?1:0;he.length>e;e++){let s=he[e],r=$e[e],u=1==M?g[e][r]:g[e][1][r],a=fl.dataIdx(k,e,n,t),c=1==M?g[e][a]:g[e][1][a];rl=rl||c!=u||a!=r,$e[e]=a;let f=ke(a==n?l:je(1==M?g[0][a]:g[e][0][a],Oe,i,0),1);if(e>0&&s.show){let t,l,n=null==c?-10:ke(Ue(c,1==M?_e[s.scale]:_e[s.facets[1].scale],o,0),1);if(pl&&n>=0&&1==M){let t=ee(n-Mn);if(Gn>t){let l=dl.bias;if(0!=l){let n=Nn(1==Oe.ori?yn:Mn,s.scale),i=0>n?-1:1;i!=(0>c?-1:1)||(1==i?1==l?n>c:c>n:1==l?c>n:n>c)||(Gn=t,In=e)}else Gn=t,In=e}}if(0==Oe.ori?(t=f,l=n):(t=n,l=f),rl&&ml.length>1){Y(ml[e],fl.points.fill(k,e),fl.points.stroke(k,e));let n,i,o,s,r=!0,u=fl.points.bbox;if(null!=u){r=!1;let t=u(k,e);o=t.left,s=t.top,n=t.width,i=t.height}else o=t,s=l,n=i=fl.points.size(k,e);F(ml[e],n,i,r),A(ml[e],o,s,Wt,Yt)}}}}if(fl.idx=n,fl.left=yn,fl.top=Mn,rl&&(Qe.idx=n,Jn()),Yn.show&&Tn)if(null!=e){let[t,l]=ci.scales,[n,s]=ci.match,[r,u]=e.cursor.sync.scales,a=e.cursor.drag;if(An=a._x,Wn=a._y,An||Wn){let a,c,f,h,d,{left:p,top:m,width:g,height:x}=e.select,w=e.scales[t].ori,b=e.posToVal,_=null!=t&&n(t,r),v=null!=l&&s(l,u);_&&An?(0==w?(a=p,c=g):(a=m,c=x),f=_e[t],h=je(b(a,r),f,i,0),d=je(b(a+c,r),f,i,0),Bn(ie(h,d),ee(d-h))):Bn(0,i),v&&Wn?(1==w?(a=p,c=g):(a=m,c=x),f=_e[l],h=Ue(b(a,u),f,o,0),d=Ue(b(a+c,u),f,o,0),Vn(ie(h,d),ee(d-h))):Vn(0,o)}else ti()}else{let e=ee(vn-xn),t=ee(kn-wn);if(1==Oe.ori){let l=e;e=t,t=l}An=Pn.x&&e>=Pn.dist,Wn=Pn.y&&t>=Pn.dist;let l,n,s=Pn.uni;null!=s?An&&Wn&&(An=e>=s,Wn=t>=s,An||Wn||(t>e?Wn=!0:An=!0)):Pn.x&&Pn.y&&(An||Wn)&&(An=Wn=!0),An&&(0==Oe.ori?(l=bn,n=yn):(l=_n,n=Mn),Bn(ie(l,n),ee(n-l)),Wn||Vn(0,o)),Wn&&(1==Oe.ori?(l=bn,n=yn):(l=_n,n=Mn),Vn(ie(l,n),ee(n-l)),An||Bn(0,i)),An||Wn||(Bn(0,0),Vn(0,0))}if(Pn._x=An,Pn._y=Wn,null==e){if(l){if(null!=fi){let[e,t]=ci.scales;ci.values[0]=null!=e?Nn(0==Oe.ori?yn:Mn,e):null,ci.values[1]=null!=t?Nn(1==Oe.ori?yn:Mn,t):null}di(c,k,yn,Mn,Wt,Yt,n)}if(pl){let e=l&&ci.setSeries,t=dl.prox;null==Ln?Gn>t||Rn(In,On,!0,e):Gn>t?Rn(null,On,!0,e):In!=Ln&&Rn(In,On,!0,e)}}!1!==t&&ui("setCursor")}k.setLegend=Jn;let Xn=null;function Zn(e){!0===e?Xn=null:(Xn=Z.getBoundingClientRect(),ui("syncRect",Xn))}function $n(e,t,l,n,i,o){fl._lock||Tn&&null!=e&&0==e.movementX&&0==e.movementY||(Qn(e,t,l,n,i,o,0,!1,null!=e),null!=e?Kn(null,!0,!0):Kn(t,!0,!1))}function Qn(e,t,l,n,i,o,s,r,u){if(null==Xn&&Zn(!1),null!=e)l=e.clientX-Xn.left,n=e.clientY-Xn.top;else{if(0>l||0>n)return yn=-10,void(Mn=-10);let[e,s]=ci.scales,r=t.cursor.sync,[u,a]=r.values,[c,f]=r.scales,[h,d]=ci.match,p=t.axes[0].side%2==1,m=0==Oe.ori?Wt:Yt,g=1==Oe.ori?Wt:Yt,x=p?o:i,w=p?i:o,b=p?n:l,_=p?l:n;if(l=null!=c?h(e,c)?H(u,_e[e],m,0):-10:m*(b/x),n=null!=f?d(s,f)?H(a,_e[s],g,0):-10:g*(_/w),1==Oe.ori){let e=l;l=n,n=e}}u&&(l>1&&Wt-1>l||(l=ve(l,Wt)),n>1&&Yt-1>n||(n=ve(n,Yt))),r?(xn=l,wn=n,[bn,_n]=fl.move(k,l,n)):(yn=l,Mn=n)}const ei={width:0,height:0,left:0,top:0};function ti(){Fn(ei,!1)}function li(e,t,l,n,i,o){Tn=!0,An=Wn=Pn._x=Pn._y=!1,Qn(e,t,l,n,i,o,0,!0,!1),null!=e&&(zt(h,_,ni),di(f,k,bn,_n,Wt,Yt,null))}function ni(e,t,l,n,i,o){Tn=Pn._x=Pn._y=!1,Qn(e,t,l,n,i,o,0,!1,!0);let{left:s,top:r,width:u,height:a}=Yn,c=u>0||a>0;if(c&&Fn(Yn),Pn.setScale&&c){let e=s,t=u,l=r,n=a;if(1==Oe.ori&&(e=r,t=a,l=s,n=u),An&&Hn(ze,Nn(e,ze),Nn(e+t,ze)),Wn)for(let e in _e){let t=_e[e];e!=ze&&null==t.from&&t.min!=fe&&Hn(e,Nn(l+n,e),Nn(l,e))}ti()}else fl.lock&&(fl._lock=!fl._lock,fl._lock||Kn(null,!0,!1));null!=e&&(Dt(h,_),di(h,k,yn,Mn,Wt,Yt,null))}function ii(e){Ql(),ti(),null!=e&&di(m,k,yn,Mn,Wt,Yt,null)}function oi(){me.forEach(Bl),al(k.width,k.height,!0)}G(x,v,oi);const si={};si.mousedown=li,si.mousemove=$n,si.mouseup=ni,si.dblclick=ii,si.setSeries=(e,t,l,n)=>{-1!=(l=(0,ci.match[2])(k,t,l))&&Rn(l,n,!0,!1)},fl.show&&(zt(f,Z,li),zt(c,Z,$n),zt(d,Z,Zn),zt(p,Z,(function(){if(!fl._lock){let e=Tn;if(Tn){let e,t,l=!0,n=!0,i=10;0==Oe.ori?(e=An,t=Wn):(e=Wn,t=An),e&&t&&(l=i>=yn||yn>=Wt-i,n=i>=Mn||Mn>=Yt-i),e&&l&&(yn=bn>yn?0:Wt),t&&n&&(Mn=_n>Mn?0:Yt),Kn(null,!0,!0),Tn=!1}yn=-10,Mn=-10,Kn(null,!0,!0),e&&(Tn=e)}})),zt(m,Z,ii),Pl.add(k),k.syncRect=Zn);const ri=k.hooks=u.hooks||{};function ui(e,t,l){e in ri&&ri[e].forEach((e=>{e.call(null,k,t,l)}))}(u.plugins||[]).forEach((e=>{for(let t in e.hooks)ri[t]=(ri[t]||[]).concat(e.hooks[t])}));const ai=(e,t,l)=>l,ci=Ge({key:null,setSeries:!1,filters:{pub:we,sub:we},scales:[ze,he[1]?he[1].scale:null],match:[be,be,ai],values:[null,null]},fl.sync);2==ci.match.length&&ci.match.push(ai),fl.sync=ci;const fi=ci.key,hi=ol(fi);function di(e,t,l,n,i,o,s){ci.filters.pub(e,t,l,n,i,o,s)&&hi.pub(e,t,l,n,i,o,s)}function pi(){ui("init",u,g),$l(g||u.data,!1),Be[ze]?Dn(ze,Be[ze]):Ql(),sl=Yn.show,il=rl=!0,al(u.width,u.height)}return hi.sub(k),k.pub=function(e,t,l,n,i,o,s){ci.filters.sub(e,t,l,n,i,o,s)&&si[e](null,t,l,n,i,o,s)},k.destroy=function(){hi.unsub(k),Pl.delete(k),Et.clear(),I(x,v,oi),O.remove(),it?.remove(),ui("destroy")},he.forEach(gl),me.forEach((function(e,t){if(e._show=e.show,e.show){let l=_e[e.scale];null==l&&(e.scale=e.side%2?he[1].scale:ze,l=_e[e.scale]);let n=l.time;e.size=pe(e.size),e.space=pe(e.space),e.rotate=pe(e.rotate),Ae(e.incrs)&&e.incrs.forEach((e=>{!Se.has(e)&&Se.set(e,Ee(e))})),e.incrs=pe(e.incrs||(2==l.distr?tt:n?1==ae?pt:xt:lt)),e.splits=pe(e.splits||(n&&1==l.distr?qe:3==l.distr?Lt:4==l.distr?Ot:It)),e.stroke=pe(e.stroke),e.grid.stroke=pe(e.grid.stroke),e.ticks.stroke=pe(e.ticks.stroke),e.border.stroke=pe(e.border.stroke);let i=e.values;e.values=Ae(i)&&!Ae(i[0])?pe(i):n?Ae(i)?vt(Ve,_t(i,Je)):Ye(i)?function(e,t){let l=Ke(t);return(t,n)=>n.map((t=>l(e(t))))}(Ve,i):i||Xe:i||Gt,e.filter=pe(e.filter||(3>l.distr||10!=l.log?3==l.distr&&2==l.log?qt:ge:Jt)),e.font=Ul(e.font),e.labelFont=Ul(e.labelFont),e._size=e.size(k,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(xl[t]=!0,e._el=T("u-axis",K))}})),b?b instanceof HTMLElement?(b.appendChild(O),pi()):b(k,pi):pi(),k}Vl.assign=Ge,Vl.fmtNum=Z,Vl.rangeNum=J,Vl.rangeLog=N,Vl.rangeAsinh=j,Vl.orient=sl,Vl.pxRatio=y,Vl.join=function(e,t){let l=new Set;for(let t=0;e.length>t;t++){let n=e[t][0],i=n.length;for(let e=0;i>e;e++)l.add(n[e])}let n=[Array.from(l).sort(((e,t)=>e-t))],i=n[0].length,o=new Map;for(let e=0;i>e;e++)o.set(n[0][e],e);for(let l=0;e.length>l;l++){let s=e[l],r=s[0];for(let e=1;s.length>e;e++){let u=s[e],a=Array(i).fill(void 0),c=t?t[l][e]:1,f=[];for(let e=0;u.length>e;e++){let t=u[e],l=o.get(r[e]);null===t?0!=c&&(a[l]=t,2==c&&f.push(l)):a[l]=t}Ie(a,f,i),n.push(a)}}return n},Vl.fmtDate=Ke,Vl.tzDate=function(e,t){let l;return"UTC"==t||"Etc/UTC"==t?l=new Date(+e+6e4*e.getTimezoneOffset()):t==Xe?l=e:(l=new Date(e.toLocaleString("en-US",{timeZone:t})),l.setMilliseconds(e.getMilliseconds())),l},Vl.sync=ol;{Vl.addGap=function(e,t,l){let n=e[e.length-1];n&&n[0]==t?n[1]=l:e.push([t,l])},Vl.clipGaps=cl;let e=Vl.paths={points:Ml};e.linear=Dl,e.stepped=function(e){const t=q(e.align,1),l=q(e.ascDesc,!1),n=q(e.alignGaps,0),i=q(e.extend,!1);return(e,o,s,r)=>sl(e,o,((u,a,c,f,h,d,p,m,g,x,w)=>{let b=u.pxRound,{left:_,width:v}=e.bbox,k=e=>b(d(e,f,x,m)),M=e=>b(p(e,h,w,g)),S=0==f.ori?gl:xl;const E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=E.stroke,D=f.dir*(0==f.ori?1:-1);s=O(c,s,r,1),r=O(c,s,r,-1);let T=M(c[1==D?s:r]),P=k(a[1==D?s:r]),A=P,W=P;i&&-1==t&&(W=_,S(z,W,T)),S(z,P,T);for(let e=1==D?s:r;e>=s&&r>=e;e+=D){let l=c[e];if(null==l)continue;let n=k(a[e]),i=M(l);1==t?S(z,n,T):S(z,A,i),S(z,n,i),T=i,A=n}let Y=A;i&&1==t&&(Y=_+v,S(z,Y,T));let[C,F]=rl(e,o);if(null!=u.fill||0!=C){let t=E.fill=new Path2D(z),l=M(u.fillTo(e,o,u.min,u.max,C));S(t,Y,l),S(t,W,l)}if(!u.spanGaps){let i=[];i.push(...fl(a,c,s,r,D,k,n));let h=u.width*y/2,d=l||1==t?h:-h,p=l||-1==t?-h:h;i.forEach((e=>{e[0]+=d,e[1]+=p})),E.gaps=i=u.gaps(e,o,s,r,i),E.clip=cl(i,f.ori,m,g,x,w)}return 0!=F&&(E.band=2==F?[al(e,o,s,r,z,-1),al(e,o,s,r,z,1)]:al(e,o,s,r,z,F)),E}))},e.bars=function(e){const t=q((e=e||De).size,[.6,fe,1]),l=e.align||0,n=(e.gap||0)*y;let i=e.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=pe(i),s=1-t[0],r=q(t[1],fe)*y,u=q(t[2],1)*y,a=q(e.disp,De),c=q(e.each,(()=>{})),{fill:f,stroke:h}=a;return(e,t,i,d)=>sl(e,t,((p,m,g,x,w,b,_,v,k,M,S)=>{let E,z,D=p.pxRound;0==x.ori?[E,z]=o(e,t):[z,E]=o(e,t);const T=x.dir*(0==x.ori?1:-1),P=w.dir*(1==w.ori?1:-1);let A,W,Y=0==x.ori?wl:bl,C=0==x.ori?c:(e,t,l,n,i,o,s)=>{c(e,t,l,i,n,s,o)},[F,H]=rl(e,t),R=3==w.distr?1==F?w.max:w.min:0,G=_(R,w,S,k),I=D(p.width*y),L=!1,O=null,N=null,j=null,U=null;null==f||0!=I&&null==h||(L=!0,O=f.values(e,t,i,d),N=new Map,new Set(O).forEach((e=>{null!=e&&N.set(e,new Path2D)})),I>0&&(j=h.values(e,t,i,d),U=new Map,new Set(j).forEach((e=>{null!=e&&U.set(e,new Path2D)}))));let{x0:B,size:V}=a;if(null!=B&&null!=V){m=B.values(e,t,i,d),2==B.unit&&(m=m.map((t=>e.posToVal(v+t*M,x.key,!0))));let l=V.values(e,t,i,d);W=2==V.unit?l[0]*M:b(l[0],x,M,v)-b(0,x,M,v),W=D(W-I),A=1==T?-I/2:W+I/2}else{let e=M;if(m.length>1){let t=null;for(let l=0,n=1/0;m.length>l;l++)if(void 0!==g[l]){if(null!=t){let i=ee(m[l]-m[t]);n>i&&(n=i,e=ee(b(m[l],x,M,v)-b(m[t],x,M,v)))}t=l}}W=D(ie(r,oe(u,e-e*s))-I-n),A=(0==l?W/2:l==T?0:W)-l*T*n/2}const J={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:3};let K;0!=H&&(J.band=new Path2D,K=D(_(1==H?w.max:w.min,w,S,k)));const X=L?null:new Path2D,Z=J.band;let{y0:$,y1:Q}=a,le=null;null!=$&&null!=Q&&(g=Q.values(e,t,i,d),le=$.values(e,t,i,d));let ne=E*W,se=z*W;for(let l=1==T?i:d;l>=i&&d>=l;l+=T){let n=g[l];if(void 0===n)continue;let i=b(2!=x.distr||null!=a?m[l]:l,x,M,v),o=_(q(n,R),w,S,k);null!=le&&null!=n&&(G=_(le[l],w,S,k));let s=D(i-A),r=D(oe(o,G)),u=D(ie(o,G)),c=r-u;if(null!=n){let i=0>n?se:ne,o=0>n?ne:se;L?(I>0&&null!=j[l]&&Y(U.get(j[l]),s,u+te(I/2),W,oe(0,c-I),i,o),null!=O[l]&&Y(N.get(O[l]),s,u+te(I/2),W,oe(0,c-I),i,o)):Y(X,s,u+te(I/2),W,oe(0,c-I),i,o),C(e,t,l,s-I/2,u,W+I,c)}0!=H&&(P*H==1?(r=u,u=K):(u=r,r=K),c=r-u,Y(Z,s-I/2,u,W+I,oe(0,c),0,0))}return I>0&&(J.stroke=L?U:X),J.fill=L?N:X,J}))},e.spline=function(e){return function(e,t){const l=q(t?.alignGaps,0);return(t,n,i,o)=>sl(t,n,((s,r,u,a,c,f,h,d,p,m,g)=>{let x,w,b,_=s.pxRound,v=e=>_(f(e,a,m,d)),k=e=>_(h(e,c,g,p));0==a.ori?(x=pl,b=gl,w=kl):(x=ml,b=xl,w=yl);const y=a.dir*(0==a.ori?1:-1);i=O(u,i,o,1),o=O(u,i,o,-1);let M=v(r[1==y?i:o]),S=M,E=[],z=[];for(let e=1==y?i:o;e>=i&&o>=e;e+=y)if(null!=u[e]){let t=v(r[e]);E.push(S=t),z.push(k(u[e]))}const D={stroke:e(E,z,x,b,w,_),fill:null,clip:null,band:null,gaps:null,flags:1},T=D.stroke;let[P,A]=rl(t,n);if(null!=s.fill||0!=P){let e=D.fill=new Path2D(T),l=k(s.fillTo(t,n,s.min,s.max,P));b(e,S,l),b(e,M,l)}if(!s.spanGaps){let e=[];e.push(...fl(r,u,i,o,y,v,l)),D.gaps=e=s.gaps(t,n,i,o,e),D.clip=cl(e,a.ori,d,p,m,g)}return 0!=A&&(D.band=2==A?[al(t,n,i,o,T,-1),al(t,n,i,o,T,1)]:al(t,n,i,o,T,A)),D}))}(Tl,e)}}return Vl}();
